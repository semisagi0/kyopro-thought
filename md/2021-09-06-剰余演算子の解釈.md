## 剰余演算子の解釈
剰余の捉え方にいくつか種類があるのでまとめる。

### 表現1
`a`を`b`で割った余りは`a`個のものを`b`個ずつの組にしていったときに組にならずに余った個数を表す。
図で表せば次のような感じ。
```
xxxxxxxxxxxxxx -> (xxx)(xxx)(xxx)(xxx)xx
```

### 表現2
`a`を`b`で割った余りは`a`から`b`を引けるだけ引いた値に等しい。
たとえば14を3で割った余りを数直線で表すと次のような操作に対応する。
```
       -3    -3    -3    -3
    |<----|<----|<----|<----|
-+--+-----+-----+-----+-----+---->
 0  2     5     8    11    14
```
たとえば引けるだけ引くみたいなアルゴリズムが出てきたら剰余演算で高速化できる可能性がある。

### 表現3
`a=bq+r`。代数向きの表現で、算数向きとは思わない。

### 表現4
`a≡r (mod b)`を満たす最小の非負整数`r`。ただし`x≡y (mod b)`は`x-y`が`b`の倍数であることを意味する。代数向きの表現で、算数向きとは思わない。

### 例題1
1,2,3,1,2,3,1,2,3,…の2021番目の数は何か。

#### 解法
3つずつの周期になっているので、先頭から3つずつの組にしていく。

```
1,2,3,1,2,3,1,2,3,... => (1,2,3),(1,2,3),(1,2,3),...
```

2021を3で割った余りは2なので、2つだけ組にならないものが余る。

```
1,2,3,1,2,3,1,2,3,... => (1,2,3),(1,2,3),(1,2,3),...,(1,2,3),1,2
```

よって答えは2。

### 例題2
1,2,3,1,2,3,1,2,3,…の2022番目の数は何か。

#### 解法
先頭から3個ずつ組にしていくと、すべての数を組にすることができる。

```
1,2,3,1,2,3,... => (1,2,3),(1,2,3),...,(1,2,3)
```

よって2022番目の数は3。

### 例題3
4111/33300の小数第1000位の数字を求めよ。

#### 解法
4111/33300=0.12345345345345…である。最初の2桁を除いた残りの998桁は345345345...になっている。これを3個ずつの組にしていくと、998を3で割った余りは2なので組にならない桁が2桁でてくる。

```
0.12(345)(345)(345)...(345)34
```

よって小数第1000位の数字は4である。

### 例題4
1000以上の整数で、3で割った余りが2021を3で割った余りと等しいような最小の整数を求めよ。

#### 解法
1000を下回らないように2021から3を引き続ければ答えが求まる。2021と1000の差を3ずつ減らしていくと捉えれば、最終的な差は1021を3で割った余りの1になる。よって求める答えは1000+1=1001。

```
          |<------1021----->|
----------+-----------------+-------------->
         1000              2021
```

### 例題5
関数`f(n)`は正の整数に対して定義されており、`n>=1234`のとき`f(n+3)=f(n)`を満たす。関数`F(n)`は`f(n)`を返す処理で実行時間は`n*10^{-9}`秒掛かる。`F(n)`を用いて`f(n)`を2秒以下で計算する処理を構成せよ。

#### 解法
1234下回らないように3を引き続ければよい。差に着目すると、最終的な差は`10^{18}-1234`を3で割った余りの2と等しくなる。よって`f(10^{18})=f(1000+2)=f(1002)`。

### 周期関数のまとめ
関数`f(n)`は正の整数に対して定義されており、`n>=a`のとき`f(n+b)=f(n)`を満たす。
このとき`n>=a`ならば`f(n)=f(a+(n-a)%b)`が成り立つ。